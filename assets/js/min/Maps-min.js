function initMap(){map=new google.maps.Map(document.getElementById("map"),{center:{lat:59.911491,lng:10.757933},zoom:5,styles:styleArray,disableDefaultUI:!0})}function getLocation(){return navigator.geolocation?void navigator.geolocation.getCurrentPosition(showPosition,showError):{lat:0,lng:0}}function showPosition(o){setMap({lat:o.coords.latitude,lng:o.coords.longitude})}function showError(o){switch(o.code){case o.PERMISSION_DENIED:log("User denied the request for Geolocation.");break;case o.POSITION_UNAVAILABLE:log("Location information is unavailable.");break;case o.TIMEOUT:log("The request to get user location timed out.");break;case o.UNKNOWN_ERROR:log("An unknown error occurred.")}}function log(o){console.info(o)}function setMap(o){var e=10;map=new google.maps.Map(document.getElementById("map"),{center:o,zoom:e,styles:styleArray,disableDefaultUI:!0});var t=[],a=[];$.post({url:"/nearby_api",data:{lat:o.lat,lng:o.lng},success:function(o){console.log(o);for(var e=0;e<o.length;e++){var a=o[e],n={lat:Number(a.lat),lng:Number(a.lng)};console.log(n),t[e]=new google.maps.Marker({map:map,position:n,title:"ball"})}},dataType:"json"})}getLocation();var map;